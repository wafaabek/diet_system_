<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recommandation de régime</title>
</head>
<body>
    <div style="max-width: 600px; margin: 20px auto; font-family: Arial, sans-serif; line-height: 1.6;">
        <h1 style="text-align: center; color: #4CAF50;">Calcul de régime personnalisé</h1>
        
        <form method="POST" style="background-color: #f9f9f9; padding: 20px; border: 1px solid #ccc; border-radius: 8px;">
            <div style="margin-bottom: 15px;">
                <label for="weight" style="display: block; font-weight: bold;">Poids actuel (kg):</label>
                <input type="number" id="weight" name="weight" required style="width: 100%; padding: 8px; box-sizing: border-box;">
            </div>
            <div style="margin-bottom: 15px;">
                <label for="height" style="display: block; font-weight: bold;">Taille (cm):</label>
                <input type="number" id="height" name="height" required style="width: 100%; padding: 8px; box-sizing: border-box;">
            </div>
            <div style="margin-bottom: 15px;">
                <label for="age" style="display: block; font-weight: bold;">Âge (ans):</label>
                <input type="number" id="age" name="age" required style="width: 100%; padding: 8px; box-sizing: border-box;">
            </div>
            <div style="margin-bottom: 15px;">
                <label for="sex" style="display: block; font-weight: bold;">Sexe:</label>
                <select id="sex" name="sex" required style="width: 100%; padding: 8px; box-sizing: border-box;">
                    <option value="homme">Homme</option>
                    <option value="femme">Femme</option>
                </select>
            </div>
            <div style="margin-bottom: 15px;">
                <label for="goal_weight" style="display: block; font-weight: bold;">Poids objectif (kg):</label>
                <input type="number" id="goal_weight" name="goal_weight" required style="width: 100%; padding: 8px; box-sizing: border-box;">
            </div>
            <button type="submit" style="width: 100%; padding: 10px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 16px;">Calculer</button>
        </form>

        {% if daily_calories %}
        <div style="margin-top: 30px; padding: 20px; background-color: #f9f9f9; border: 1px solid #ccc; border-radius: 8px;">
            <h2 style="color: #333;">Calories totales de la journée</h2>
            <p><strong>{{ daily_calories }} kcal</strong></p>

            <h2>Besoins journaliers en macronutriments :</h2>
            <ul>
                <li>Protéines : {{ protein_grams }} g</li>
                <li>Graisses : {{ fat_grams }} g</li>
                <li>Glucides : {{ carb_grams }} g</li>
            </ul>

            <h3>Recommandations de repas :</h3>
            
            <h4 style="color: #4CAF50;">Petit-déjeuner ({{ breakfast_calories }} kcal)</h4>
            <ul>
                {% for recipe in breakfast %}
                <li>{{ recipe.Name }} - {{ recipe.Calories }} kcal, 
                    {{ recipe.ProteinContent }} g de protéines, 
                    {{ recipe.FatContent }} g de lipides, 
                    {{ recipe.CarbohydrateContent }} g de glucides
                </li>
                {% endfor %}
            </ul>

            <h4 style="color: #4CAF50;">Déjeuner ({{ lunch_calories }} kcal)</h4>
            <ul>
                {% for recipe in lunch %}
                <li>{{ recipe.Name }} - {{ recipe.Calories }} kcal, 
                    {{ recipe.ProteinContent }} g de protéines, 
                    {{ recipe.FatContent }} g de lipides, 
                    {{ recipe.CarbohydrateContent }} g de glucides
                </li>
                {% endfor %}
            </ul>

            <h4 style="color: #4CAF50;">Dîner ({{ dinner_calories }} kcal)</h4>
            <ul>
                {% for recipe in dinner %}
                <li>{{ recipe.Name }} - {{ recipe.Calories }} kcal, 
                    {{ recipe.ProteinContent }} g de protéines, 
                    {{ recipe.FatContent }} g de lipides, 
                    {{ recipe.CarbohydrateContent }} g de glucides
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </div>
</body>
</html>
